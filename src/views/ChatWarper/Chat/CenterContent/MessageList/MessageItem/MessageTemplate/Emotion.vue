<template>
  <div
    v-if="emotion !== 'none'"
    v-tooltip="$t(`v1.view.main.dashboard.chat.message.emotion_ai.${emotion}`)"
    :class="{
      '-right-2.5': position === 'RIGHT',
      '-left-2.5': position === 'LEFT',
      'border-green-500 bg-green-100': isPositive(),
      'border-red-500 bg-red-100': !isPositive(),
    }"
    class="border rounded-full w-6 h-6 flex items-center justify-center text-sm absolute -top-2.5 z-20"
  >
    {{ ICON?.[emotion] || '' }}
  </div>
</template>
<script setup lang="ts">
const $props = withDefaults(
  defineProps<{
    /**cáº£m xÃºc */
    emotion: string
    /**vá»‹ trÃ­ cá»§a cáº£m xÃºc */
    position: 'LEFT' | 'RIGHT'
  }>(),
  {}
)

/**icon cá»§a cáº£m xÃºc */
const ICON: Record<string, string> = {
  happiness: 'ğŸ˜Š',
  anger: 'ğŸ˜¡',
  sadness: 'ğŸ˜¢',
  fear: 'ğŸ˜±',
  surprise: 'ğŸ˜²',
  disgust: 'ğŸ¤¢',
  love: 'â¤ï¸',
  jealousy: 'ğŸ˜’',
  shame: 'ğŸ˜³',
  pride: 'ğŸ˜Œ',
}

/**tiÃªu cá»±c hay tÃ­ch cá»±c */
function isPositive(): boolean {
  /**cáº£m xÃºc tÃ­ch cá»±c */
  const POSITIVE = ['happiness', 'love', 'pride', 'surprise']

  // kiá»ƒm tra cáº£m xÃºc cÃ³ pháº£i lÃ  tÃ­ch cá»±c khÃ´ng
  return POSITIVE.includes($props.emotion)
}
</script>
